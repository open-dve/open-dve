.PHONY: all run clean

VRF ?=$(PROJ)/vrf
BIN=Vtop
NPROC=4
MODE ?= --binary
BUILD_OPTS = \
	--timescale 1ns/1ps \
	--cc \
	$(MODE) \
	--timing \
	-O3 \
	-j $(NPROC) \
	-o $(BIN)

clean:
	rm -rf obj_dir

all:
	$(VERILATOR_ROOT)/bin/verilator $(BUILD_OPTS) -F $(VRF)/list/fl.f
	
run:
	./obj_dir/$(BIN)

version:
	$(VERILATOR_ROOT)/bin/verilator --version